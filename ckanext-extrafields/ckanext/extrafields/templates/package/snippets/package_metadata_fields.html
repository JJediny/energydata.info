{% ckan_extends %}

{% import 'macros/form.html' as form %}

{% block package_metadata_fields_url %}

  <div class="control-group">
    <label class="control-label" for="field-country_code">{{ _("Country") }}</label>
    <div class="controls">
      <select multiple id="field-country_code" name="country_code" data-module="autocomplete">
        {% for country_code in h.country_codes()  %}
          <option value="{{ country_code }}" {% if country_code in data.get('country_code', []) %}selected="selected"{% endif %}>{{ h.country_code_to_name(country_code) }}</option>
        {% endfor %}
      </select>
    </div>
  </div>

  {{ super() }}

{% endblock %}

{% block package_metadata_fields_maintainer %}
  <input id="field-maintainer" type="hidden" name="maintainer" value="{{data.maintainer}}" />
  <input id="field-maintainer-email" type="hidden" name="maintainer_email" value="{{data.maintainer_email}}" />

  {% call form.input('release_date', label=_('Published year'), id='field-release_date', placeholder=_('2010'), value=data.release_date, error=errors.release_date, classes=['control-medium']) %}
    <span class="info-block info-inline">
      Publish date of source data
    </span>
  {% endcall %}

  {% call form.input('start_date', label=_('Start date'), id='field-start_date', placeholder=_('2008'), value=data.start_date, error=errors.start_date, classes=['control-medium']) %}
    <span class="info-block info-inline">
      Earliest data point in the dataset. E.g. 15-Jul-2008 or 2008
    </span>
  {% endcall %}

  {% call form.input('end_date', label=_('End year'), id='field-end_date', placeholder=_('2009'), value=data.end_date, error=errors.end_date, classes=['control-medium']) %}
    <span class="info-block info-inline">
      Latest or most recent data point in the dataset. E.g. 15-Jul-2009 or 2009
    </span>
  {% endcall %}

  {% call form.input('ref_system', label=_('Coordinate Reference System'), id='field-ref_system', placeholder=_('WGS84'), value=data.ref_system, error=errors.ref_system, classes=['control-medium']) %}
    <span class="info-block info-inline">
      For geographic data, the name of the coordinate reference system used for the co-ordinates.
    </span>
  {% endcall %}
{% endblock %}

{% block package_metadata_fields_version %}
  <input id="field-version" type="hidden" name="version" value="{{data.version}}" />
{% endblock %}

{% block dataset_fields %}
{% endblock %}
